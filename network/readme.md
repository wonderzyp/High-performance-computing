入门
---

## TCP
### 服务端
1. 创建套接字
2. 初始化地址结构体`sockaddr_in`(IP地址可INADDR_ANY)
3. 调用`bind()`将结构体信息绑定至套接字
4. 监听`listen()`
5. 使用`accept()`返回新的`socket`，建立连接通信.

### 客户端
1. 创建套接字
2. 初始化地址结构体`sockaddr_in`
3. `connect()`请求连接指定的IP地址

### TCP的部分特性
#### 数据收发无边界
设想一种情况：客户端调用`read()`读取服务端传回的字符串，但是当字符串过长时，可能会分成多次传回，即客户端调用`read()`时字符串可能尚未完全传送完成
为解决此问题，可在应用层定义传输协议：
以**server_op**为例，定义传输数据首位数据记录总操作个数，在服务端通过`while((opnd_cnt*OPSZ+1)>recv_len)`保证数据全部接受完毕再进行计算

> 建立套接字通信时，必然需要双方的IP地址和端口：
服务端通过调用`bind`显式绑定`sockaddr_in`，`accept`获取连接的客户端信息；
客户端在`connect`时自动分配

## UDP
UDP不同于TCP，没有请求连接的过程，不用区分客户端和服务端